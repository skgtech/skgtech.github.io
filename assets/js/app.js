!function e(t,a,n){function i(s,o){if(!a[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=a[s]={exports:{}};t[s][0].call(u.exports,function(e){var a=t[s][1][e];return i(a?a:e)},u,u.exports,e,t,a,n)}return a[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,a){var n=e("./calendar"),i=e("./slack");e("./theme"),e("./newsletter");var r=new n;r.init();var s=new i;s.init({emailField:".slack-email",cta:".slack-submit",form:".slack-form"})},{"./calendar":2,"./newsletter":3,"./slack":4,"./theme":5}],2:[function(e,t,a){var n=e("calendarth"),i=e("./util"),r=t.exports=function(){this.$eventsContainer=null,this.$eventItem=null,this.$error=null};r.MAX_EVENTS_SHOW=8,r.prototype.init=function(){this.$eventsContainer=$("#upcoming-events"),this.$eventItem=$("#event-item"),this.$error=$("#agenda-error"),this.calendarth=n({apiKey:"AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w",calendarId:"2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com",maxResults:12}),this.calendarth.fetch(this._handleCalResult.bind(this))},r.prototype._handleCalResult=function(e,t){if(this.$eventsContainer.empty(),e)return void this.$eventsContainer.append(this.$error.clone().removeClass("hide"));var a=[],n=0,i="";t.items.forEach(function(e){n>=r.MAX_EVENTS_SHOW||a.indexOf(e.summary)>-1||(a.push(e.summary),i+=this._assignValues(this.$eventItem.clone(),e),n++)},this),i+="",this.$eventsContainer.append(i)},r.prototype._assignValues=function(e,t){e.find("div.upcoming_events").removeClass("hide");var a=e.find(".event_title span"),n=e.find(".upcoming_label.label span"),r=e.find(".event_time_loc .location"),s=e.find(".event_summery"),o=e.find(".event_title a"),l=e.find(".event_cover_photo img"),c=e.find(".facebook-url"),u=e.find(".twitter-url"),m=this._parseDesc(t.description);m.image||l.attr("src","/assets/img/placeholders/event_image_placeholder.jpg"),a.text(t.summary);var d=i.getDate(t.start)+" - "+i.getTime(t.start);n.text(d);var f=null,h=null;if(f=m.venue?m.venue:t.location,m.mapUrl?(h='<a href="'+m.mapUrl+'" target="_blank">',h+=f,h+="</a>"):h=f,r.html(h),m.about&&s.text(m.about),m.infoUrl){var p=m.infoUrl;p.lastIndexOf("/");o.attr("href",p),c.attr("href","https://facebook.com/sharer.php?u="+p),u.attr("href","https://twitter.com/intent/tweet?text="+t.summary+"&url="+p+"&via=skg_tech&related=skg_tech")}return e.find(".loading").addClass("hide"),e.html()},r.prototype._parseDesc=function(e){var t={venue:null,infoUrl:null,mapUrl:null,about:null,image:null,language:null,rest:""};if(!e)return t;var a=e.split("\n");return a.forEach(function(e){if(e.length){var a=e.indexOf(":");if(-1!==a){var n=e.substr(0,a).toLowerCase().trim(),i=e.substr(a+1).trim();switch(n){case"venue":t.venue=i;break;case"info":t.infoUrl=i;break;case"map":t.mapUrl=i;break;case"about":t.about=i;break;case"language":t.language=i;break;case"image":t.image=i;break;default:t.rest+=e+"<br />"}}}},this),t}},{"./util":6,calendarth:8}],3:[function(e,t,a){"use strict";!function(){var e={};e.mceInit=function(){var t={url:"https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?",type:"GET",dataType:"json",contentType:"application/json; charset=utf-8"};$("#mc-embedded-subscribe-form").submit(function(a){$(".response").hide(),a.preventDefault();var n=this.EMAIL.value;return t.data=$(this).serialize(),t.success=function(t){e.mceSuccess(t,n)},$(this).find("button").text("loading"),$.ajax(t),!1})},e.mceSuccess=function(e){if("success"===e.result)return $("button").text("Done!"),void $(".newsletter-error").hide();var t,a=-1;try{var n=e.msg.split(" - ",2);if(void 0===n[1])t=e.msg;else{var i=parseInt(n[0],10);i.toString()===n[0]?(a=n[0],t=n[1]):(a=-1,t=e.msg)}}catch(r){a=-1,t=e.msg}console.log(e),console.log("here"),$("button").text("Go"),$(".newsletter-error").show(),$(".newsletter-error").html("<p>"+t+"</p>")},e.mceInit()}()},{}],4:[function(e,t,a){var n=t.exports=function(){};n.X_API_KEY="DdBItuHAoE1HE36jjEdmh4Pbx8QpCgDh6Te60gnz",n.SUBSCRIBE_URL="https://pv201ybrq8.execute-api.eu-west-1.amazonaws.com/prod/slack",n.prototype.init=function(e){if(!e.emailField)throw"Must set an input element selector";if(!e.cta)throw"Must set a Call to Action element selector";this.$emailEl=$(e.emailField),this.$ctaEl=$(e.cta),this.$formEl=$(e.form),this.attachEvents()},n.prototype.attachEvents=function(){this.$ctaEl.on("click",this.handleFormSubmit.bind(this)),this.$formEl.on("submit",this.handleFormSubmit.bind(this))},n.prototype.handleFormSubmit=function(e){var t=this;e.preventDefault();var a=t.$emailEl.val();t.$ctaEl.button("loading"),t.subscribe(a,function(e){if($(".slack-alert").addClass("hidden"),e)switch(t.$ctaEl.button("reset"),e){case"emptyEmail":$(".slack-alert.slack-invalid-email").removeClass("hidden");break;case"wrongEmail":$(".slack-alert.slack-invalid-email").removeClass("hidden");break;case"alreadySubscribed":$(".slack-alert.slack-already-subscribed").removeClass("hidden")}else $(".slack-alert.slack-success").removeClass("hidden"),$(".slack-email").addClass("hidden"),$(".slack-submit").addClass("hidden"),t.$ctaEl.button("reset")})},n.prototype.subscribe=function(e,t){return e&&e.length?/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)?void $.ajax({method:"GET",url:n.SUBSCRIBE_URL,headers:{"x-api-key":n.X_API_KEY},data:{email:e}}).success(function(e){e.error?("already_in_team"===e.error&&t("alreadySubscribed"),"already_invited"===e.error&&t("alreadySubscribed")):t(null)}).error(function(){t("err")}):(t("wrongEmail"),!1):(t("emptyEmail"),!1)}},{}],5:[function(e,t,a){!function(e){"use strict";function t(){if(e(".navbar").length){var t=e(".navbar").offset().top;e(".navbar").affix({offset:{top:t}})}}function a(){e(".featured_news").length&&e(".featured_news").owlCarousel({loop:!0,margin:0,nav:!1,dots:!0,items:1})}function n(){e(".communities_row").length&&e(".communities_row").imagesLoaded(function(){e(".communities_row").isotope({itemSelector:".community-listing",layoutMode:"masonry",masonry:{columnWidth:".community-sizer"}})})}function i(){e(".causes_container").length&&e(".causes_container").imagesLoaded(function(){e(".causes_container").isotope({itemSelector:".cause-item",layoutMode:"masonry",masonry:{columnWidth:".grid-sizer"}}),e(".causes-filter li").on("click",function(){e(".causes-filter li").removeClass("active"),e(this).addClass("active");var t=e(this).attr("data-filter");e(".causes_container").isotope({filter:t})})})}function r(){e(".history_carousel").length&&e(".history_carousel").owlCarousel({loop:!1,margin:0,nav:!0,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1,items:1})}t(),a(),n(),i(),r()}(jQuery)},{}],6:[function(e,t,a){var n=t.exports={},i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sub"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.nl2br=function(e){return"string"!=typeof e?"":e.split("\n").join("<br />")},n.formatDate=function(e,t){var a,s,o=!1;e.dateTime?(a=new Date(e.dateTime),s=new Date(t.dateTime)):(o=!0,a=new Date(e.date),s=new Date(t.date),s-=11e6,s=new Date(s));var l=i[a.getDay()];return l+=", "+r[a.getMonth()],l+=" "+a.getDate(),o?l+=a.getDate()===s.getDate()&&a.getMonth()===s.getMonth()?", All day event":" - "+i[s.getDay()]+" "+s.getDate():(l+=" | "+a.getHours()+":"+n.twoDigit(a.getMinutes()),l+=" - "+s.getHours()+":"+n.twoDigit(s.getMinutes())),l},n.getDate=function(e){var t,a=!1;e.dateTime?t=new Date(e.dateTime):(a=!0,t=new Date(e.date));var n="";return n+=t.getDate(),n+=" "+r[t.getMonth()]},n.getTime=function(e){var t,a=!1;e.dateTime?t=new Date(e.dateTime):(a=!0,t=new Date(e.date));var i="";return a?"All Day":(i+=t.getHours(),i+=":"+n.twoDigit(t.getMinutes()))},n.twoDigit=function(e){var t=e+"";return 1===t.length?"0"+t:t}},{}],7:[function(e,t,a){var n=e("./item"),i=t.exports=function(e){this.options=e||{},this.apiKey=this.options.apiKey||null,this.calendarId=this.options.calendarId||null,this.maxResults=this.options.maxResults||20};i.prototype.fetch=function(e){var t="https://www.googleapis.com/calendar/v3/calendars/";t+=this.calendarId+"/events?key=",t+=this.apiKey;var a=new Date;t+="&orderBy=startTime",t+="&singleEvents=true",t+="&timeMin="+a.toISOString(),t+="&maxResults="+this.maxResults,$.ajax({type:"GET",url:t,crossDomain:!0,dataType:"json"}).done(function(t){var a=new n(t);e(null,a)}).fail(function(t,a,n){e(n)})},i.prototype.getEventUrl=function(e){var t=e.htmlLink.split("="),a="http://www.google.com/calendar/event?action=TEMPLATE&tmeid=";return a+=t[1],a+="&tmsrc=",a+=encodeURIComponent(e.organizer.email)}},{"./item":9}],8:[function(e,t,a){var n=e("./calendarth");t.exports=function(e){return new n(e)}},{"./calendarth":7}],9:[function(e,t,a){var n=t.exports=function(e){return e};n.prototype.get=function(e){return e?this.calendarObj[e]:this.calendarObj}},{}]},{},[1]);
//# sourceMappingURL=app.js.map
