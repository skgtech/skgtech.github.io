{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","_frontapp/app.js","app.js","_frontapp/frontpage.js","_frontapp/newsletter.js","_frontapp/slack-invite.js","_frontapp/util.js","node_modules/calendarth/src/calendarth.js","node_modules/calendarth/src/index.js","node_modules/calendarth/src/item.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Front","SlackApp","front","init","slackApp","email_container","cta","form","./frontpage","./newsletter","./slack-invite",2,"calendarth","util","this","$agendaContainer","$agendaItem","$error","MAX_EVENTS_SHOW","prototype","$","apiKey","calendarId","maxResults","fetch","_handleCalResult","bind","err","data","empty","append","clone","removeClass","meetups","displayed","lineCounter","htmlOutput","items","forEach","item","indexOf","summary","push","_assignValues","$item","find","addClass","text","_parseDesc","description","getDate","start","getTime","location","locationOutput","venue","substr","mapUrl","html","infoUrl","attr","about","descr","out","language","rest","lines","split","line","splitPos","key","toLowerCase","trim","value","./util",3,"newsletter","mceInit","options","url","type","dataType","contentType","submit","ev","hide","preventDefault","email","EMAIL","serialize","success","resp","mceSuccess","button","ajax","result","msg","index","parts","undefined","parseInt","toString","show",4,"Slack","X_API_KEY","SUBSCRIBE_URL","$emailEl","$ctaEl","$formEl","attachEvents","on","handleFormSubmit","that","val","subscribe","cb","test","method","headers","x-api-key","res","error",5,"days","months","nl2br","str","join","formatDate","end","startDate","endDate","isMultiDay","dateTime","Date","date","getDay","getMonth","getHours","twoDigit","getMinutes","dt","num",6,"Item","Calendarth","calendarUrl","toISOString","crossDomain","done","fail","jqXHR","textStatus","errorThrown","getEventUrl","eventItem","linkParts","htmlLink","encodeURIComponent","organizer","./item",7,"./calendarth",8,"calendarObj","get","optProp"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n * SKGTech\n * Thessaloniki Tech Community\n * https://github.com/skgtech/skgtech.github.io\n *\n * Copyright ©2015 SKGTech Contributors.\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Frontend application bootstrap file\n */\n\nvar Front = require('./frontpage');\nvar SlackApp = require('./slack-invite');\nrequire('./newsletter');\n\nvar front = new Front();\nfront.init();\n\nvar slackApp = new SlackApp();\nslackApp.init({\n  email_container: '.slack-subscribe-email',\n  cta: '.slack-subscribe-button',\n  form: '.slack-form'\n});\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\n * SKGTech\n * Thessaloniki Tech Community\n * https://github.com/skgtech/skgtech.github.io\n *\n * Copyright ©2015 SKGTech Contributors.\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Frontend application bootstrap file\n */\n\nvar Front = require('./frontpage');\nvar SlackApp = require('./slack-invite');\nrequire('./newsletter');\n\nvar front = new Front();\nfront.init();\n\nvar slackApp = new SlackApp();\nslackApp.init({\n  email_container: '.slack-subscribe-email',\n  cta: '.slack-subscribe-button',\n  form: '.slack-form'\n});\n\n},{\"./frontpage\":2,\"./newsletter\":3,\"./slack-invite\":4}],2:[function(require,module,exports){\n/**\n * @fileOverview scripts about the frontpage.\n */\n\nvar calendarth = require('calendarth');\n\nvar util = require('./util');\n\nvar Front = module.exports = function() {\n  this.$agendaContainer = null;\n  this.$agendaItem = null;\n  this.$error = null;\n};\n\n/** @const {number} Maximum events to display, use an even number */\nFront.MAX_EVENTS_SHOW = 8;\n\n/**\n * Initialize the frontpage view.\n *\n */\nFront.prototype.init = function() {\n  this.$agendaContainer = $('#agenda-items');\n  this.$agendaItem = $('#agenda-tpl');\n  this.$error = $('#agenda-error');\n\n  this.calendarth = calendarth({\n    apiKey: 'AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w',\n    calendarId: '2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com',\n    maxResults: 12\n  });\n\n  this.calendarth.fetch(this._handleCalResult.bind(this));\n\n};\n\n/**\n * Handle incoming calendarth data.\n *\n * @param {?string|Error} err Possible error message.\n * @param {Object=} data The calendar data object.\n * @private\n */\nFront.prototype._handleCalResult = function(err, data) {\n  this.$agendaContainer.empty();\n  if (err) {\n    this.$agendaContainer.append(this.$error.clone().removeClass('hide'));\n    return;\n  }\n\n  var meetups = [];\n  var displayed = 0;\n  var lineCounter = 0;\n  var htmlOutput = '';\n  data.items.forEach(function(item) {\n    if (displayed >= Front.MAX_EVENTS_SHOW) {\n      return;\n    }\n\n    if (meetups.indexOf(item.summary) > -1) {\n      return;\n    } else {\n      meetups.push(item.summary);\n    }\n\n    if (displayed && displayed % 1 === 0) {\n      // rows\n      // htmlOutput += '</div><div class=\"row\">';\n    }\n    htmlOutput += this._assignValues(this.$agendaItem.clone(), item, lineCounter);\n    displayed++;\n    lineCounter++;\n    if (lineCounter > 1) {\n      lineCounter = 0;\n    }\n  }, this);\n\n  htmlOutput += '';\n  this.$agendaContainer.append(htmlOutput);\n};\n\n/**\n * Assign the Calendar item values to the Calendar item element.\n *\n * @param {jQuery} $item A jquery item we will manipulate.\n * @param {Object} item Google Calendar item.\n * @param {number} lineCounter The current line counter.\n * @return {string} The html representation.\n * @private\n */\nFront.prototype._assignValues = function($item, item, lineCounter) {\n  $item.removeClass('hide');\n\n  $item.find('article.calendar-entry').addClass('calendar-entry-' + lineCounter);\n  $item.find('.title').addClass('title-' + lineCounter);\n\n  $item.find('.title').text(item.summary);\n\n  var data = this._parseDesc(item.description);\n\n  $item.find('.date').text(util.getDate(item.start));\n  $item.find('.time').text(util.getTime(item.start));\n\n  var location = null;\n  var locationOutput = '';\n  if (data.venue) {\n    location = data.venue;\n  } else {\n    location = item.location;\n  }\n\n  // chop down length\n  if (location.length > 80) {\n    location = location.substr(0, 75) + '...';\n  }\n\n  if (data.mapUrl) {\n    locationOutput = '<a href=\"' + data.mapUrl + '\" target=\"_blank\">';\n    locationOutput += location;\n    locationOutput += '</a>';\n  } else {\n    locationOutput = location;\n  }\n\n\n  $item.find('.location-name').html(locationOutput);\n\n  if (data.infoUrl) {\n    $item.find('.more-info').attr('href', data.infoUrl);\n  } else {\n    $item.find('.more-info').addClass('hide');\n  }\n\n  if (data.about) {\n    $item.find('.details p').html(data.about);\n  } else {\n    $item.find('.details').addClass('hide');\n  }\n\n  return $item.html();\n};\n\n/**\n * Parse the description and generated info.\n *\n * @param {string} descr The description\n * @return {Object} An object containing the following properties:\n *   venue {?string} The venue where the event happens or null.\n *   info {?string} The informational url or null.\n *   map {?string} The map url or null.\n *   language {?string} The event language.\n * @private\n */\nFront.prototype._parseDesc = function(descr) {\n  var out = {\n    venue: null,\n    infoUrl: null,\n    mapUrl: null,\n    about: null,\n    language: null,\n    rest: ''\n  };\n  if (!descr) {\n    return out;\n  }\n  var lines = descr.split('\\n');\n  lines.forEach(function(line) {\n    if (!line.length) {\n      return;\n    }\n\n    var splitPos = line.indexOf(':');\n    if (splitPos === -1) {\n      return;\n    }\n\n    var key = line.substr(0, splitPos).toLowerCase().trim();\n    var value = line.substr(splitPos + 1).trim();\n\n    switch(key) {\n    case 'venue':\n      out.venue = value;\n      break;\n    case 'info':\n      out.infoUrl = value;\n      break;\n    case 'map':\n      out.mapUrl = value;\n      break;\n    case 'about':\n      out.about = value;\n      break;\n    case 'language':\n      out.language = value;\n      break;\n    default:\n      out.rest += line + '<br />';\n      break;\n    }\n  }, this);\n\n  return out;\n};\n\n},{\"./util\":5,\"calendarth\":7}],3:[function(require,module,exports){\n/**\n * @fileOverview The newsletter js for MailChimp\n */\n'use strict';\n\n(function() {\n  var newsletter = {};\n  // mailchimp code\n  newsletter.mceInit = function() {\n    var options = {\n      url: 'https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?',\n      type: 'GET',\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    };\n\n    $('#mc-embedded-subscribe-form').submit(function(ev){\n      $('.response').hide();\n      ev.preventDefault();\n\n      // form position\n      var email = this.EMAIL.value;\n      options.data = $(this).serialize();\n      options.success = function(resp) {\n        newsletter.mceSuccess(resp, email);\n      };\n\n      $(this).find('button').button('loading');\n\n      $.ajax(options);\n\n      return false;\n    });\n  };\n\n  newsletter.mceSuccess = function(resp) {\n    if (resp.result === 'success'){\n      $('.newsletter').find('button').button('complete');\n      return;\n    }\n\n    var index = -1;\n    var msg;\n    try {\n      var parts = resp.msg.split(' - ',2);\n      if (parts[1] === undefined){\n        msg = resp.msg;\n      } else {\n        var i = parseInt(parts[0], 10);\n        if (i.toString() === parts[0]){\n          index = parts[0];\n          msg = parts[1];\n        } else {\n          index = -1;\n          msg = resp.msg;\n        }\n      }\n    } catch(e) {\n      index = -1;\n      msg = resp.msg;\n    }\n    $('.newsletter .field').addClass('has-error');\n    $('.newsletter').find('button').button('reset');\n\n    $('.js-error').show();\n    $('.js-error').html(msg);\n  };\n\n  newsletter.mceInit();\n})();\n\n},{}],4:[function(require,module,exports){\n/**\n * @fileOverview scripts about the Slack Invitation form.\n */\n\nvar Slack = module.exports = function () {};\n\n/** @const {string} X API KEY for AWS resource */\nSlack.X_API_KEY = 'DdBItuHAoE1HE36jjEdmh4Pbx8QpCgDh6Te60gnz';\n\n/** @const {string} API Endpoint to invite an email */\nSlack.SUBSCRIBE_URL = 'https://pv201ybrq8.execute-api.eu-west-1.amazonaws.com/prod/slack';\n\n/**\n * Initialize the frontpage view.\n *\n */\nSlack.prototype.init = function (options) {\n\n  if(!options.email_container){\n    throw 'Must set an input element selector';\n  }\n  if(!options.cta){\n    throw 'Must set a Call to Action element selector';\n  }\n\n  this.$emailEl = $(options.email_container);\n  this.$ctaEl = $(options.cta);\n  this.$formEl = $(options.form);\n\n  this.attachEvents();\n};\n\nSlack.prototype.attachEvents = function () {\n\n  this.$ctaEl.on('click', this.handleFormSubmit.bind(this));\n  this.$formEl.on('submit', this.handleFormSubmit.bind(this));\n};\n\nSlack.prototype.handleFormSubmit = function (e) {\n\n  var that = this;\n\n  e.preventDefault();\n  var email = that.$emailEl.val();\n  that.$ctaEl.button('loading');\n\n  that.subscribe(email, function(err){\n    $('.slack-alert').addClass('hidden');\n    if(err){\n      if(err === 'empty-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'wrong-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'already_in_team'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-already-subscribed').removeClass('hidden');\n      }\n      that.$ctaEl.button('reset');\n    } else {\n      $('.slack-alert.slack-welcome').removeClass('hidden');\n      that.$ctaEl.button('complete');\n    }\n  });\n}\n\nSlack.prototype.subscribe = function (email, cb) {\n\n  if(!email || !email.length){\n    cb('empty-email');\n    return false;\n  } else if(!(/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/.test(email))){\n    cb('wrong-email');\n    return false;\n  }\n\n  $.ajax({\n    method: 'GET',\n    url: Slack.SUBSCRIBE_URL,\n    headers:{\n      \"x-api-key\":Slack.X_API_KEY\n    },\n    data: {\n      email: email\n    }\n  })\n    .success(function (res) {\n      if(res.error){\n        if(res.error === 'already_in_team'){\n          cb('already_in_team');\n        }\n\n        if(res.error === 'already_invited'){\n          cb('already_invited');\n        }\n      } else {\n        cb(null);\n      }\n    })\n    .error(function (err) {\n      cb('err');\n    });\n\n};\n\n},{}],5:[function(require,module,exports){\n/**\n * @fileOverview Utilities.\n */\nvar util = module.exports = {};\n\nvar days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sub'];\nvar months =['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n  'Oct', 'Nov', 'Dec'];\n\n/**\n * nl2br\n *\n * @param {string} str The string\n * @return {string}  A stirng with newlines turned to <br />\n */\nutil.nl2br = function(str) {\n  if (typeof str !== 'string') {\n    return '';\n  }\n\n  return str.split('\\n').join('<br />');\n};\n\n/**\n * Format a calendar start / end date to a single string\n *\n * @param {Object} start Start Object.\n * @param {Object} end End Object.\n * @return {string} Human readable string.\n */\nutil.formatDate = function(start, end) {\n  // check if we have a dateTime defined\n  var startDate;\n  var endDate;\n  var isMultiDay = false;\n  if (start.dateTime) {\n    startDate = new Date(start.dateTime);\n    endDate = new Date(end.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(start.date);\n    endDate = new Date(end.date);\n    // the substraction needs to happen because in Full Day events the end\n    // time will jump +3h because of timezone (+2) and DST (+1)\n    endDate = endDate - 11000000;\n    endDate = new Date(endDate);\n  }\n\n  // establish date\n  var out = days[startDate.getDay()];\n  out += ', ' + months[startDate.getMonth()];\n  out += ' ' + startDate.getDate();\n\n  if (isMultiDay) {\n    // multi-day event, check if it's just a single all-day\n    if (startDate.getDate() === endDate.getDate() && startDate.getMonth() ===\n      endDate.getMonth()) {\n      // single all day event\n      out += ', All day event';\n    } else {\n      // multi day\n      out += ' - ' + days[endDate.getDay()] + ' ' + endDate.getDate();\n    }\n  } else {\n    out += ' | ' + startDate.getHours() + ':' +\n      util.twoDigit(startDate.getMinutes());\n    out += ' - ' + endDate.getHours() + ':' +\n      util.twoDigit(endDate.getMinutes());\n  }\n\n  return out;\n};\n\n/**\n * Get the date out of a date format: dd MMM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getDate = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n  out += startDate.getDate();\n  out += ' ' + months[startDate.getMonth()];\n\n  return out;\n};\n\n/**\n * Get the time out of a date format: HH:MM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getTime = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n\n  if (isMultiDay) {\n    return 'All Day';\n  }\n\n  out += startDate.getHours();\n  out += ':' + util.twoDigit(startDate.getMinutes());\n  return out;\n};\n\n/**\n * Forces return of two digits by prepending 0 if length is 1.\n *\n * @param {number} num The number\n * @return {string} Two digit representation as string.\n */\nutil.twoDigit = function(num) {\n  var str = num + '';\n  if (str.length === 1) {\n    return '0' + str;\n  } else {\n    return str;\n  }\n};\n\n},{}],6:[function(require,module,exports){\n/*\n * Calendarth\n * Fetch a Public Google Calendar with AJAX\n * https://github.com/thanpolas/calendarth\n *\n * Copyright (c) 2014 Thanasis Polychronakis\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Google Calendar client, fetches and parses calendar items.\n */\n\nvar Item = require('./item');\n\n/**\n * The base class.\n *\n * @param {Object} options A dict with options to configure the Calendarth:\n *    @param {string} calendarId REQUIRED the calendar Id, looks like:\n *        djasldj23ljd23dj23ldj2%40group.calendar.google.com\n *    @param {string} apiKey A google API v3 key.\n * @constructor\n */\nvar Calendarth = module.exports = function(options) {\n  this.options = options || {};\n  this.apiKey = this.options.apiKey || null;\n  this.calendarId = this.options.calendarId || null;\n  this.maxResults = this.options.maxResults || 20;\n};\n\n/**\n * Fetch Calendar items.\n *\n * @param {Function(Error, Array.<Calendarth.Item>)} cb Node style callback.\n * @see https://github.com/thanpolas/calendarth/wiki/Google_Calendar_Object_v3\n */\nCalendarth.prototype.fetch = function(cb) {\n  var calendarUrl = 'https://www.googleapis.com/calendar/v3/calendars/';\n  calendarUrl += this.calendarId + '/events?key=';\n  calendarUrl += this.apiKey;\n\n  var dt = new Date();\n  calendarUrl += '&orderBy=startTime';\n  calendarUrl += '&singleEvents=true';\n  calendarUrl += '&timeMin=' + dt.toISOString();\n  calendarUrl += '&maxResults=' + this.maxResults;\n  $.ajax({\n    type: 'GET',\n    url: calendarUrl,\n    crossDomain: true,\n    dataType: 'json'\n  }).done(function(data) {\n    var item = new Item(data);\n    cb(null, item);\n  }).fail(function(jqXHR, textStatus, errorThrown) {\n    cb(errorThrown);\n  });\n};\n\n/**\n * Return a url that will perform the \"Add Event to Google Calendar\" action.\n *\n * @param {Object} eventItem The event data object.\n * @return {string} The event link to use in the anchor element.\n */\nCalendarth.prototype.getEventUrl = function(eventItem) {\n  var linkParts = eventItem.htmlLink.split('=');\n  var out = 'http://www.google.com/calendar/event?action=TEMPLATE&tmeid=';\n  out += linkParts[1];\n  out += '&tmsrc=';\n  out += encodeURIComponent(eventItem.organizer.email);\n  return out;\n};\n\n},{\"./item\":8}],7:[function(require,module,exports){\n/**\n * @fileOverview Library Bootstrap.\n */\n\nvar Calendarth = require('./calendarth');\n\n/**\n * The exported API, return a new instance of Calendarth.\n *\n * @param {Object} options Options.\n * @return {Calendarth} A new instance of Calendarth.\n */\nmodule.exports = function(options) {\n  return new Calendarth(options);\n};\n\n},{\"./calendarth\":6}],8:[function(require,module,exports){\n/**\n * @fileOverview A wrapper that provides helpers on the calendar object.\n */\n\n/**\n * A wrapper for the Google Calendar v3 Object.\n *\n * @param {Object} calendarObj The Google Calendar v3 Object.\n * @constructor\n */\nvar Item = module.exports = function(calendarObj) {\n  // stub return with same object for now...\n  return calendarObj;\n  // this.calendarObj = calendarObj;\n};\n\n/**\n * Get a property or the whole calendar object.\n * @param {string=} optProp optionally define a property.\n * @return {Object|*} The Object or whatever type the property value is.\n */\nItem.prototype.get = function(optProp) {\n  if (optProp) {\n    return this.calendarObj[optProp];\n  } else {\n    return this.calendarObj;\n  }\n};\n\n},{}]},{},[1])\n\n","/**\n * @fileOverview scripts about the frontpage.\n */\n\nvar calendarth = require('calendarth');\n\nvar util = require('./util');\n\nvar Front = module.exports = function() {\n  this.$agendaContainer = null;\n  this.$agendaItem = null;\n  this.$error = null;\n};\n\n/** @const {number} Maximum events to display, use an even number */\nFront.MAX_EVENTS_SHOW = 8;\n\n/**\n * Initialize the frontpage view.\n *\n */\nFront.prototype.init = function() {\n  this.$agendaContainer = $('#agenda-items');\n  this.$agendaItem = $('#agenda-tpl');\n  this.$error = $('#agenda-error');\n\n  this.calendarth = calendarth({\n    apiKey: 'AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w',\n    calendarId: '2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com',\n    maxResults: 12\n  });\n\n  this.calendarth.fetch(this._handleCalResult.bind(this));\n\n};\n\n/**\n * Handle incoming calendarth data.\n *\n * @param {?string|Error} err Possible error message.\n * @param {Object=} data The calendar data object.\n * @private\n */\nFront.prototype._handleCalResult = function(err, data) {\n  this.$agendaContainer.empty();\n  if (err) {\n    this.$agendaContainer.append(this.$error.clone().removeClass('hide'));\n    return;\n  }\n\n  var meetups = [];\n  var displayed = 0;\n  var lineCounter = 0;\n  var htmlOutput = '';\n  data.items.forEach(function(item) {\n    if (displayed >= Front.MAX_EVENTS_SHOW) {\n      return;\n    }\n\n    if (meetups.indexOf(item.summary) > -1) {\n      return;\n    } else {\n      meetups.push(item.summary);\n    }\n\n    if (displayed && displayed % 1 === 0) {\n      // rows\n      // htmlOutput += '</div><div class=\"row\">';\n    }\n    htmlOutput += this._assignValues(this.$agendaItem.clone(), item, lineCounter);\n    displayed++;\n    lineCounter++;\n    if (lineCounter > 1) {\n      lineCounter = 0;\n    }\n  }, this);\n\n  htmlOutput += '';\n  this.$agendaContainer.append(htmlOutput);\n};\n\n/**\n * Assign the Calendar item values to the Calendar item element.\n *\n * @param {jQuery} $item A jquery item we will manipulate.\n * @param {Object} item Google Calendar item.\n * @param {number} lineCounter The current line counter.\n * @return {string} The html representation.\n * @private\n */\nFront.prototype._assignValues = function($item, item, lineCounter) {\n  $item.removeClass('hide');\n\n  $item.find('article.calendar-entry').addClass('calendar-entry-' + lineCounter);\n  $item.find('.title').addClass('title-' + lineCounter);\n\n  $item.find('.title').text(item.summary);\n\n  var data = this._parseDesc(item.description);\n\n  $item.find('.date').text(util.getDate(item.start));\n  $item.find('.time').text(util.getTime(item.start));\n\n  var location = null;\n  var locationOutput = '';\n  if (data.venue) {\n    location = data.venue;\n  } else {\n    location = item.location;\n  }\n\n  // chop down length\n  if (location.length > 80) {\n    location = location.substr(0, 75) + '...';\n  }\n\n  if (data.mapUrl) {\n    locationOutput = '<a href=\"' + data.mapUrl + '\" target=\"_blank\">';\n    locationOutput += location;\n    locationOutput += '</a>';\n  } else {\n    locationOutput = location;\n  }\n\n\n  $item.find('.location-name').html(locationOutput);\n\n  if (data.infoUrl) {\n    $item.find('.more-info').attr('href', data.infoUrl);\n  } else {\n    $item.find('.more-info').addClass('hide');\n  }\n\n  if (data.about) {\n    $item.find('.details p').html(data.about);\n  } else {\n    $item.find('.details').addClass('hide');\n  }\n\n  return $item.html();\n};\n\n/**\n * Parse the description and generated info.\n *\n * @param {string} descr The description\n * @return {Object} An object containing the following properties:\n *   venue {?string} The venue where the event happens or null.\n *   info {?string} The informational url or null.\n *   map {?string} The map url or null.\n *   language {?string} The event language.\n * @private\n */\nFront.prototype._parseDesc = function(descr) {\n  var out = {\n    venue: null,\n    infoUrl: null,\n    mapUrl: null,\n    about: null,\n    language: null,\n    rest: ''\n  };\n  if (!descr) {\n    return out;\n  }\n  var lines = descr.split('\\n');\n  lines.forEach(function(line) {\n    if (!line.length) {\n      return;\n    }\n\n    var splitPos = line.indexOf(':');\n    if (splitPos === -1) {\n      return;\n    }\n\n    var key = line.substr(0, splitPos).toLowerCase().trim();\n    var value = line.substr(splitPos + 1).trim();\n\n    switch(key) {\n    case 'venue':\n      out.venue = value;\n      break;\n    case 'info':\n      out.infoUrl = value;\n      break;\n    case 'map':\n      out.mapUrl = value;\n      break;\n    case 'about':\n      out.about = value;\n      break;\n    case 'language':\n      out.language = value;\n      break;\n    default:\n      out.rest += line + '<br />';\n      break;\n    }\n  }, this);\n\n  return out;\n};\n","/**\n * @fileOverview The newsletter js for MailChimp\n */\n'use strict';\n\n(function() {\n  var newsletter = {};\n  // mailchimp code\n  newsletter.mceInit = function() {\n    var options = {\n      url: 'https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?',\n      type: 'GET',\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    };\n\n    $('#mc-embedded-subscribe-form').submit(function(ev){\n      $('.response').hide();\n      ev.preventDefault();\n\n      // form position\n      var email = this.EMAIL.value;\n      options.data = $(this).serialize();\n      options.success = function(resp) {\n        newsletter.mceSuccess(resp, email);\n      };\n\n      $(this).find('button').button('loading');\n\n      $.ajax(options);\n\n      return false;\n    });\n  };\n\n  newsletter.mceSuccess = function(resp) {\n    if (resp.result === 'success'){\n      $('.newsletter').find('button').button('complete');\n      return;\n    }\n\n    var index = -1;\n    var msg;\n    try {\n      var parts = resp.msg.split(' - ',2);\n      if (parts[1] === undefined){\n        msg = resp.msg;\n      } else {\n        var i = parseInt(parts[0], 10);\n        if (i.toString() === parts[0]){\n          index = parts[0];\n          msg = parts[1];\n        } else {\n          index = -1;\n          msg = resp.msg;\n        }\n      }\n    } catch(e) {\n      index = -1;\n      msg = resp.msg;\n    }\n    $('.newsletter .field').addClass('has-error');\n    $('.newsletter').find('button').button('reset');\n\n    $('.js-error').show();\n    $('.js-error').html(msg);\n  };\n\n  newsletter.mceInit();\n})();\n","/**\n * @fileOverview scripts about the Slack Invitation form.\n */\n\nvar Slack = module.exports = function () {};\n\n/** @const {string} X API KEY for AWS resource */\nSlack.X_API_KEY = 'DdBItuHAoE1HE36jjEdmh4Pbx8QpCgDh6Te60gnz';\n\n/** @const {string} API Endpoint to invite an email */\nSlack.SUBSCRIBE_URL = 'https://pv201ybrq8.execute-api.eu-west-1.amazonaws.com/prod/slack';\n\n/**\n * Initialize the frontpage view.\n *\n */\nSlack.prototype.init = function (options) {\n\n  if(!options.email_container){\n    throw 'Must set an input element selector';\n  }\n  if(!options.cta){\n    throw 'Must set a Call to Action element selector';\n  }\n\n  this.$emailEl = $(options.email_container);\n  this.$ctaEl = $(options.cta);\n  this.$formEl = $(options.form);\n\n  this.attachEvents();\n};\n\nSlack.prototype.attachEvents = function () {\n\n  this.$ctaEl.on('click', this.handleFormSubmit.bind(this));\n  this.$formEl.on('submit', this.handleFormSubmit.bind(this));\n};\n\nSlack.prototype.handleFormSubmit = function (e) {\n\n  var that = this;\n\n  e.preventDefault();\n  var email = that.$emailEl.val();\n  that.$ctaEl.button('loading');\n\n  that.subscribe(email, function(err){\n    $('.slack-alert').addClass('hidden');\n    if(err){\n      if(err === 'empty-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'wrong-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'already_in_team'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-already-subscribed').removeClass('hidden');\n      }\n      that.$ctaEl.button('reset');\n    } else {\n      $('.slack-alert.slack-welcome').removeClass('hidden');\n      that.$ctaEl.button('complete');\n    }\n  });\n}\n\nSlack.prototype.subscribe = function (email, cb) {\n\n  if(!email || !email.length){\n    cb('empty-email');\n    return false;\n  } else if(!(/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/.test(email))){\n    cb('wrong-email');\n    return false;\n  }\n\n  $.ajax({\n    method: 'GET',\n    url: Slack.SUBSCRIBE_URL,\n    headers:{\n      \"x-api-key\":Slack.X_API_KEY\n    },\n    data: {\n      email: email\n    }\n  })\n    .success(function (res) {\n      if(res.error){\n        if(res.error === 'already_in_team'){\n          cb('already_in_team');\n        }\n\n        if(res.error === 'already_invited'){\n          cb('already_invited');\n        }\n      } else {\n        cb(null);\n      }\n    })\n    .error(function (err) {\n      cb('err');\n    });\n\n};\n","/**\n * @fileOverview Utilities.\n */\nvar util = module.exports = {};\n\nvar days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sub'];\nvar months =['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n  'Oct', 'Nov', 'Dec'];\n\n/**\n * nl2br\n *\n * @param {string} str The string\n * @return {string}  A stirng with newlines turned to <br />\n */\nutil.nl2br = function(str) {\n  if (typeof str !== 'string') {\n    return '';\n  }\n\n  return str.split('\\n').join('<br />');\n};\n\n/**\n * Format a calendar start / end date to a single string\n *\n * @param {Object} start Start Object.\n * @param {Object} end End Object.\n * @return {string} Human readable string.\n */\nutil.formatDate = function(start, end) {\n  // check if we have a dateTime defined\n  var startDate;\n  var endDate;\n  var isMultiDay = false;\n  if (start.dateTime) {\n    startDate = new Date(start.dateTime);\n    endDate = new Date(end.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(start.date);\n    endDate = new Date(end.date);\n    // the substraction needs to happen because in Full Day events the end\n    // time will jump +3h because of timezone (+2) and DST (+1)\n    endDate = endDate - 11000000;\n    endDate = new Date(endDate);\n  }\n\n  // establish date\n  var out = days[startDate.getDay()];\n  out += ', ' + months[startDate.getMonth()];\n  out += ' ' + startDate.getDate();\n\n  if (isMultiDay) {\n    // multi-day event, check if it's just a single all-day\n    if (startDate.getDate() === endDate.getDate() && startDate.getMonth() ===\n      endDate.getMonth()) {\n      // single all day event\n      out += ', All day event';\n    } else {\n      // multi day\n      out += ' - ' + days[endDate.getDay()] + ' ' + endDate.getDate();\n    }\n  } else {\n    out += ' | ' + startDate.getHours() + ':' +\n      util.twoDigit(startDate.getMinutes());\n    out += ' - ' + endDate.getHours() + ':' +\n      util.twoDigit(endDate.getMinutes());\n  }\n\n  return out;\n};\n\n/**\n * Get the date out of a date format: dd MMM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getDate = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n  out += startDate.getDate();\n  out += ' ' + months[startDate.getMonth()];\n\n  return out;\n};\n\n/**\n * Get the time out of a date format: HH:MM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getTime = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n\n  if (isMultiDay) {\n    return 'All Day';\n  }\n\n  out += startDate.getHours();\n  out += ':' + util.twoDigit(startDate.getMinutes());\n  return out;\n};\n\n/**\n * Forces return of two digits by prepending 0 if length is 1.\n *\n * @param {number} num The number\n * @return {string} Two digit representation as string.\n */\nutil.twoDigit = function(num) {\n  var str = num + '';\n  if (str.length === 1) {\n    return '0' + str;\n  } else {\n    return str;\n  }\n};\n","/*\n * Calendarth\n * Fetch a Public Google Calendar with AJAX\n * https://github.com/thanpolas/calendarth\n *\n * Copyright (c) 2014 Thanasis Polychronakis\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Google Calendar client, fetches and parses calendar items.\n */\n\nvar Item = require('./item');\n\n/**\n * The base class.\n *\n * @param {Object} options A dict with options to configure the Calendarth:\n *    @param {string} calendarId REQUIRED the calendar Id, looks like:\n *        djasldj23ljd23dj23ldj2%40group.calendar.google.com\n *    @param {string} apiKey A google API v3 key.\n * @constructor\n */\nvar Calendarth = module.exports = function(options) {\n  this.options = options || {};\n  this.apiKey = this.options.apiKey || null;\n  this.calendarId = this.options.calendarId || null;\n  this.maxResults = this.options.maxResults || 20;\n};\n\n/**\n * Fetch Calendar items.\n *\n * @param {Function(Error, Array.<Calendarth.Item>)} cb Node style callback.\n * @see https://github.com/thanpolas/calendarth/wiki/Google_Calendar_Object_v3\n */\nCalendarth.prototype.fetch = function(cb) {\n  var calendarUrl = 'https://www.googleapis.com/calendar/v3/calendars/';\n  calendarUrl += this.calendarId + '/events?key=';\n  calendarUrl += this.apiKey;\n\n  var dt = new Date();\n  calendarUrl += '&orderBy=startTime';\n  calendarUrl += '&singleEvents=true';\n  calendarUrl += '&timeMin=' + dt.toISOString();\n  calendarUrl += '&maxResults=' + this.maxResults;\n  $.ajax({\n    type: 'GET',\n    url: calendarUrl,\n    crossDomain: true,\n    dataType: 'json'\n  }).done(function(data) {\n    var item = new Item(data);\n    cb(null, item);\n  }).fail(function(jqXHR, textStatus, errorThrown) {\n    cb(errorThrown);\n  });\n};\n\n/**\n * Return a url that will perform the \"Add Event to Google Calendar\" action.\n *\n * @param {Object} eventItem The event data object.\n * @return {string} The event link to use in the anchor element.\n */\nCalendarth.prototype.getEventUrl = function(eventItem) {\n  var linkParts = eventItem.htmlLink.split('=');\n  var out = 'http://www.google.com/calendar/event?action=TEMPLATE&tmeid=';\n  out += linkParts[1];\n  out += '&tmsrc=';\n  out += encodeURIComponent(eventItem.organizer.email);\n  return out;\n};\n","/**\n * @fileOverview Library Bootstrap.\n */\n\nvar Calendarth = require('./calendarth');\n\n/**\n * The exported API, return a new instance of Calendarth.\n *\n * @param {Object} options Options.\n * @return {Calendarth} A new instance of Calendarth.\n */\nmodule.exports = function(options) {\n  return new Calendarth(options);\n};\n","/**\n * @fileOverview A wrapper that provides helpers on the calendar object.\n */\n\n/**\n * A wrapper for the Google Calendar v3 Object.\n *\n * @param {Object} calendarObj The Google Calendar v3 Object.\n * @constructor\n */\nvar Item = module.exports = function(calendarObj) {\n  // stub return with same object for now...\n  return calendarObj;\n  // this.calendarObj = calendarObj;\n};\n\n/**\n * Get a property or the whole calendar object.\n * @param {string=} optProp optionally define a property.\n * @return {Object|*} The Object or whatever type the property value is.\n */\nItem.prototype.get = function(optProp) {\n  if (optProp) {\n    return this.calendarObj[optProp];\n  } else {\n    return this.calendarObj;\n  }\n};\n"],"sourceRoot":"/source/"}